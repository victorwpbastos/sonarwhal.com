!function(){"use strict";var e,r=document.querySelector(".scan-overview").getAttribute("data-id"),t=[],n={error:"error",finished:"finished",pending:"pending",started:"started"},s={error:"error",pass:"pass",pending:"pending",warning:"warning"},a=document.querySelector(".scan-queue-bg-wrap"),i=document.querySelector(".scan-result-bg-wrap"),o=function(e){var r=new XMLHttpRequest,t=e.callback,n=e.url;return r.open(e.method||"GET",n,!0),r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){if(t)return e.dontTransform?t(null,r.responseText):t(null,JSON.parse(r.responseText))}else if(t)return t(r.status,r.responseText);return null},r.send(e.params),r},l=function(e){e.forEach(function(e){e.results&&e.results.forEach(function(e){-1===t.indexOf(e.name)&&t.push(e.name)})})},u=function(e){return e.forEach(function(e){e.results&&(e.results=e.results.filter(function(e){return-1===t.indexOf(e.name)}))}),e},c=function(){return'{{#each results}}                    <div class="rule-result--details" aria-expanded="false" id="{{name}}">    <div class="rule-result--details__header">        <p class="rule-title">{{name}}: {{getLength messages status}}</p>        <div class="rule-result__docs">            <a class="docs-button" target="_blank" href="/docs/user-guide/rules/{{name}}/" title="documentation for {{name}} rule"><img src="/images/results-docs-icon.svg" alt="" class="docs-icon" />Documentation</a>            <button title="show {{name}}\'s result details" class="button--details" data-rule="{{name}}">Open details</button>        </div>    </div>    {{#each messages}}    <div class="rule-result--details__body">        <p class="{{../status}}-badge uppercase-text">{{../status}}</p>        <p>            {{message}}        </p>        {{#compare resource \'||\' sourceCode}}        <div class="rule-result__code">            {{#if resource}}            <p>                <a target="_blank" rel="noopener noreferrer" href="{{resource}}">                    {{cutUrlString resource}}{{normalizePosition location.line}}{{normalizePosition location.column}}                </a>            </p>            {{/if}}            {{#if sourceCode}}            <code>{{cutCodeString sourceCode}}</code>            {{/if}}        </div>        {{/compare}}    </div>    {{/each}}    {{#if thirdParty}}        <div class="rule-result--details__footer-msg">            {{#if thirdParty.details}}                <p>To learn more visit </p>            {{else}}                    <p>With the help of </p>            {{/if}}            <a href="{{thirdParty.link}}">                <img src="{{thirdParty.logo.url}}" alt="{{thirdParty.logo.alt}}" class="{{thirdParty.logo.name}}-logo" />            </a>        </div>    {{/if}}</div>                 {{/each}}'},d=function(e,r){var t=e();return Handlebars.compile(t)(r)},f=function(e,r){return e+(1===r?"":"s")},p=function(e,r,t,n,s,a){r>0?(e.classList.add("rule-list--failed"),e.innerHTML=r+" "+f(t,r),e.closest(".rule-tile").classList.add("rule-tile--failed")):(e.innerHTML=r+" "+f(t,r),a&&e.classList.add("rule-list--passed"),s&&e.closest(".rule-tile").classList.add("rule-tile--passed"))},m=function(e){return e.rules.every(function(e){return e.status!==n.pending})},v=function(e){return e.rules.every(function(e){return e.status===s.pass})},g=function(e){return e.filter(function(e){return e.status!==s.pass})},y=function(e){if(e.results&&0!==e.results.length){var r=document.getElementById(e.name),t=r.querySelector(".compiling__loader"),n=d(c,e);t.insertAdjacentHTML("beforebegin",n)}},h=function(e){var r=document.getElementById(e.name),t=r.querySelector(".compiling__loader");t&&r.removeChild(t)},_=function(e){var r=document.getElementById(e.name),t=r.querySelector(".compiling__loader");r.querySelector(".rule-result__message--passed")||(t&&r.removeChild(t),r.insertAdjacentHTML("beforeend",'<div class="rule-result--details">    <div class="rule-result__message--passed">        <p>No issues</p>    </div></div>'))},b=function(e){return e.rules.every(function(e){return e.status!==s.pending})},w=function(e,r,t){var n="."+e.name+".errors",s="."+e.name+".warnings",a=e.statistics.errors,i=e.statistics.warnings,o=document.querySelector(n),l=document.querySelector(s);l.innerHTML=i+" Warnings",p(o,a,"Error",e.name,r,t),p(l,i,"Warning",e.name,r,t)},S=function(e){var r=e.updates,t=e.time,n=e.version,s=0,a=0;r.forEach(function(e){if(e.results){var r=v(e),t=b(e);r&&_(e),e.results=g(e.results),y(e),w(e,r,t),s+=e.statistics.errors,a+=e.statistics.warnings,m(e)&&h(e)}});for(var i=document.querySelectorAll("code"),o=0;o<i.length;o++)hljs.highlightBlock(i[o]);document.querySelector("#total-errors").innerHTML=s,document.querySelector("#total-warnings").innerHTML=a,document.querySelector(".scan-overview--time .scan-overview__body--purple").innerHTML=t,document.querySelector(".scan-overview--version .scan-overview__body--purple").innerHTML=n},q=function(){document.querySelector("#results-container").insertAdjacentHTML("beforebegin",'<div class="scan-error">    <p>        There was an error and we were only able to partially complete the scan. View the results below or        <a href="https://sonarwhal.com/scanner/">perform another scan</a>.    <p></div>')},T=function(){a.style.display="block",i.style.display="none"},L=function(){a.style.display="none",i.style.display="block"},H=function(e){return e&&1===e.length?"0"+e:e},M=function(){try{var e=document.querySelector(".scan-overview--time .scan-overview__body--purple"),r=e.innerHTML,t=r.split(":"),n=parseInt(t[0],10),s=parseInt(t[1],10);s++,s>=60&&(n++,s=0),e.innerHTML=H(n.toString())+":"+H(s.toString())}catch(e){}},E=function(e){var r=document.querySelector(".scan-overview__status");r.textContent=e,r.classList.remove("analyzing")},k=function(){var t=function(r,t){var s=t.status===n.finished,a=t.status===n.error,i=t.status===n.pending;if(r)return clearInterval(e),void console.error(r);if(i)T();else{L(),a&&q();var o=u(t.categories);if(S({time:t.time,updates:o,version:t.version}),l(t.categories),s||a)return clearInterval(e),void E(t.status)}setTimeout(k,5e3)},s="api/"+r,a={callback:t,url:s};e||(e=setInterval(M,1e3)),o(a)};window.history.pushState(null,null,r),function(){for(var e=document.querySelectorAll(".rule-result--details"),r=0;r<e.length;r++)t.push(e[r].id)}(),!function(){return"none"!==document.querySelector(".scan-queue-bg-wrap").style.display}()?k():setTimeout(k,1e4)}();