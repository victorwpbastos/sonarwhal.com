<!doctype html><html lang="en"><head><meta charset="utf-8"><title>Pull Requests | sonar documentation</title><meta property="og:image" content="/images/apple-touch-icon.png"><meta property="og:description" content="If you want to contribute to sonar, read this first"><meta property="og:title" content="Pull Requests"><meta name="description" content="If you want to contribute to sonar, read this first"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#4046dd"><link rel="manifest" href="/site.webmanifest"><link rel="apple-touch-icon" href="/images/apple-touch-icon.png"><link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16"><link rel="stylesheet" href="/core/css/about.css"><link rel="stylesheet" href="/core/css/base.css"><link rel="stylesheet" href="/core/css/color.css"><link rel="stylesheet" href="/core/css/footer.css"><link rel="stylesheet" href="/core/css/helpers.css"><link rel="stylesheet" href="/core/css/layouts.css"><link rel="stylesheet" href="/core/css/media.css"><link rel="stylesheet" href="/core/css/navigation.css"><link rel="stylesheet" href="/core/css/search-results.css"><link rel="stylesheet" href="/core/css/structure.css"><link rel="stylesheet" href="/core/css/type.css"><link rel="stylesheet" href="/core/css/highlight.css"><link rel="stylesheet" href="/components/breadcrumb/breadcrumb.css"><link rel="stylesheet" href="/components/pagination/pagination.css"><link rel="stylesheet" href="/core/css/controls.css"><link rel="stylesheet" href="/core/css/scanner.css"><link href="https://fonts.googleapis.com/css?family=Montserrat:200,300,400,500" rel="stylesheet"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"><link rel="stylesheet" href="/core/css/code.css"><link rel="stylesheet" href="/core/css/table-of-contents.css"><link rel="stylesheet" href="/core/css/tables-lists.css"><link rel="stylesheet" href="/components/treeview/treeview.css"><link rel="stylesheet" href="/core/css/documentation.css"></head><body><header class="header"><div class="nav-bar container"><nav class="nav"><a href="/" class="clear logo--container"><img src="/images/sonar-logo.svg" alt="sonar" class="header__logo navbar__navitem"></a><ul class="nav__navbar"><li class="navbar__navitem"><a role="button" href="/scanner/" id="scanner" aria-haspopup="true" aria-expanded="false" aria-controls="submenu-scanner" class="navitem__button">Scanner</a></li><li class="navbar__navitem"><a role="button" href="/docs/" id="docs" aria-haspopup="true" aria-expanded="false" aria-controls="submenu-docs" class="navitem__button expandable">Documentation</a><ul role="group" id="submenu-docs" class="navbar__submenu" aria-hidden="true"><li><a href="/docs/contributor-guide/">Contributor Guide</a></li><li><a href="/docs/user-guide/rules/">Rules</a></li><li><a href="/docs/user-guide/">User Guide</a></li></ul></li><li class="navbar__navitem"><a role="button" href="/about/" id="about" aria-haspopup="true" aria-expanded="false" aria-controls="submenu-about" class="navitem__button expandable">About</a><ul role="group" id="submenu-about" class="navbar__submenu" aria-hidden="true"><li><a href="/about/faq/">FAQ</a></li><li><a href="/about/changelog/">Changelog</a></li><li><a href="/about/governance/">Governance</a></li><li><a href="/about/contributors/">Contributors</a></li><li><a href="https://js.foundation/community/code-of-conduct">Code of Conduct</a></li></ul></li></ul><div class="nav-bar__input"><form action="/search" method="GET"><label for="search-input" class="visually-hidden">Search the documentation</label><input type="search" id="search-input" placeholder="Search…" name="q" aria-label="Search"></form></div></nav><button class="header__toggle mobile-nav-button" aria-label="Menu"></button></div></header><main class="container"><article class="content" aria-labelledby="page-heading"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/">Home</a></li><li><a href="../../">Documentation</a></li><li><a href="../../" class="guide-category">Contributor guide</a></li><li aria-current="location">Pull Requests</li></ul></nav><header class="page-intro"><h1 id="page-heading">Pull Requests</h1><div class="documentation-actions"><ul><li><a target="_blank" href="https://github.com/sonarwhal/sonar/blob/master/docs/contributor-guide/contributing/pull-requests/index.md">Edit</a></li><li><a target="_blank" href="https://github.com/sonarwhal/sonar/issues/new?title&#x3D;%5Bdocs%5D%20Issue%20with%20&#x27;Pull%20Requests&#x27;&amp;body&#x3D;https%3A%2F%2Fsonarwhal.com%2Fdocs%2Fcontributor-guide%2Fcontributing%2Fpull-requests%2Findex.html">Signal Issue</a></li></ul></div></header><div class="section"><div class="layout layout--sidebar"><div class="module module--primary wrap-text"><h1 id="pullrequests">Pull Requests<a href="#pullrequests" class="headerlink" title="Pull Requests"></a></h1><p>Contributing code to <code>sonar</code> is done using pull requests. This is the fastest way for us to evaluate your code and to merge it into the code base.</p><p>Please only use pull requests and don’t file issues with snippets of code, as doing so means that we need to manually merge the changes and update any appropriate documentation and tests. That decreases the likelihood of your code getting included in a timely manner.</p><p>Also, before embarking on any significant pull request (e.g. implementing features, refactoring code, porting to a different language, etc.), make sure there is an issue that describes what you intend to do, the issue has been accepted, and was not assigned to anyone else.</p><p>If there is no such issue, create a new issue. If there is one that is not assigned, just leave a comment stating that you want to work on it, and we will assign it to you.</p><p>For bug fixes, documentation changes, and other small changes, there is no need to create an issue, and you can just make the pull request.</p><h2 id="gettingstarted">Getting Started<a href="#gettingstarted" class="headerlink" title="Getting Started"></a></h2><p>If you’d like to work on a pull request, and you’ve never submitted code before, follow these steps:</p><ol><li>Sign our <a href="https://cla.js.foundation/sonarwhal/sonar" target="_blank" rel="noopener noreferrer external">Contributor License Agreement</a>.</li><li>Set up a <a href="../../development-environment/">development environment</a>.</li></ol><p>After that, you’re ready to start working on code.</p><h2 id="workingwithcode">Working with Code<a href="#workingwithcode" class="headerlink" title="Working with Code"></a></h2><p>The process of submitting a pull request is fairly straightforward, and generally follows the same pattern each time:</p><ol><li><a href="#step-1">Create a new branch</a></li><li><a href="#step-2">Make your changes</a></li><li><a href="#step-3">Rebase onto upstream</a></li><li><a href="#step-4">Run the tests</a></li><li><a href="#step-5">Double check your submission</a></li><li><a href="#step-6">Push your changes</a></li><li><a href="#step-7">Submit the pull request</a></li></ol><h3 id="step1createanewbranch">Step 1: Create a new branch <a name="step-1"></a><a href="#step1createanewbranch" class="headerlink" title="Step 1: Create a new branch "></a></h3><p>The first step to sending a pull request is to create a new branch in your <code>sonar</code> fork. Give the branch a descriptive name that best illustrates what it is you’re fixing, such as:</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git checkout -b fix-1234</div></pre></td></tr></table></figure><p>You should do all of your development for the issue in this branch.</p><p><strong>Note:</strong> Do not combine fixes for multiple issues into one branch. Use a separate branch for each issue you’re working on.</p><h3 id="step2makeyourchanges">Step 2: Make your changes <a name="step-2"></a><a href="#step2makeyourchanges" class="headerlink" title="Step 2: Make your changes "></a></h3><p>Make the changes to the code, documentation, and tests, and once you are done, commit the changes to your branch:</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git add -A</div><div class="line">git commit</div></pre></td></tr></table></figure><h4 id="commitmessages">Commit messages<a href="#commitmessages" class="headerlink" title="Commit messages"></a></h4><p>Commit messages should have the following structure:</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">&lt;Tag&gt;: Capitalized, summary (less then 50 chars)</div><div class="line">&lt;blank line&gt;</div><div class="line">If necessary, more detailed explanatory text, wrapped to about 72</div><div class="line">characters or so.</div><div class="line"></div><div class="line">The commit message should be in the imperative: &quot;Fix bug&quot; and not</div><div class="line">&quot;Fixed bug&quot; or &quot;Fixes bug.&quot;  This convention matches up with commit</div><div class="line">messages generated by commands like `git merge` and `git revert`.</div><div class="line"></div><div class="line">If applicable, at the end, write where the users can find more</div><div class="line">information (URL(s), or other related issues), and/or what this</div><div class="line">commit fixes.</div><div class="line"></div><div class="line">- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</div><div class="line"></div><div class="line">Ref &lt;URL/issue/issue comment&gt;</div><div class="line"></div><div class="line">Fix #&lt;issue&gt;</div><div class="line">Close #&lt;issue&gt;</div></pre></td></tr></table></figure><p>The <strong>first line</strong> of the commit message (the summary) constitutes the one-sentence description of the change. It must be 50 characters in length or shorter, and should start with a <code>&lt;Tag&gt;</code> that is one of the following:</p><ul><li><code>Breaking</code> - for a backwards-incompatible changes.</li><li><code>Build</code> - changes to build process only.</li><li><code>Chore</code> - for refactoring, adding tests, etc. (anything that isn’t user-facing).</li><li><code>Docs</code> - changes to documentation only.</li><li><code>Fix</code> - for a bug fix.</li><li><code>New</code> - implemented a new feature.</li><li><code>Update</code> - for a backwards-compatible changes or a change to a rule that increases the number of reported problems.</li><li><code>Upgrade</code> - for a dependency upgrade.</li></ul><p>Here are some good commit message summary examples:</p><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Docs: Fix broken links in `pull-requests.md`</div></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">New: Add rule to check life-work balance</div></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Upgrade: `eslint` to `v5.0.0`</div></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">Build: Generate new Travis CI token</div></pre></td></tr></table></figure><p>The <strong>secound line</strong> should be left blank if there are other lines after it.</p><p><strong>All other lines</strong>, were possible, should be wrapped to about 72 characters.</p><p><strong>Note</strong>: The commit message structure is very important as we use the messages in our automatic release process (determining the new version number, updating the changelog, etc.).</p><h3 id="step3rebaseontoupstream">Step 3: Rebase onto upstream <a name="step-3"></a><a href="#step3rebaseontoupstream" class="headerlink" title="Step 3: Rebase onto upstream "></a></h3><p>Before you send the pull request, be sure to rebase onto the <a href="../../development-environment/">upstream source</a>. This ensures your code is running on the latest available code.</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git fetch upstream</div><div class="line">git rebase upstream/master</div></pre></td></tr></table></figure><h3 id="step4runthetests">Step 4: Run the tests <a name="step-4"></a><a href="#step4runthetests" class="headerlink" title="Step 4: Run the tests "></a></h3><p>After rebasing, be sure to run all of the tests once again to make sure nothing broke:</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">npm <span class="built_in">test</span></div></pre></td></tr></table></figure><p>If there are any failing tests, update your code until all tests pass.</p><h3 id="step5doublecheckyoursubmission">Step 5: Double check your submission <a name="step-5"></a><a href="#step5doublecheckyoursubmission" class="headerlink" title="Step 5: Double check your submission "></a></h3><p>With your code ready to go, this is a good time to double-check your submission to make sure it follows our conventions. Here are the things to check:</p><ul><li>The pull request must have a description. The description should explain what you did and how its effects can be seen.</li><li>The change introduces no functional regression. Be sure to run <code>npm test</code> to verify your changes before submitting a pull request.</li><li>Make separate pull requests for unrelated changes. Large pull requests with multiple unrelated changes may be closed without merging.</li><li>All changes must be accompanied by documentation and tests, even if the feature you’re working on previously had no documentation or tests.</li></ul><h3 id="step6pushyourchanges">Step 6: Push your changes <a name="step-6"></a><a href="#step6pushyourchanges" class="headerlink" title="Step 6: Push your changes "></a></h3><p>Next, push your changes to your fork:</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git push origin fix-1234</div></pre></td></tr></table></figure><p>If you are unable to push because some references are old, do a forced push instead:</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git push -f origin fix-1234</div></pre></td></tr></table></figure><h3 id="step7sendthepullrequest">Step 7: Send the pull request <a name="step-7"></a><a href="#step7sendthepullrequest" class="headerlink" title="Step 7: Send the pull request "></a></h3><p>Now you’re ready to send the pull request. Go to your <code>sonar</code> fork and then follow the <a href="https://help.github.com/articles/creating-a-pull-request" target="_blank" rel="noopener noreferrer external">GitHub documentation</a> on how to send a pull request.</p><h2 id="followingup">Following Up<a href="#followingup" class="headerlink" title="Following Up"></a></h2><p>Once your pull request is sent, it’s time for the team to review it. As such, please make sure to:</p><ol><li>Monitor the <a href="https://travis-ci.org/sonarwhal/sonar/pull_requests" target="_blank" rel="noopener noreferrer external">status of the Travis CI build for your pull request</a>. If it fails, please investigate why. We cannot merge pull requests that fail Travis for any reason.</li><li>Respond to comments left on the pull request from team members. Remember, we want to help you land your code, so please be receptive to our feedback.</li><li>We may ask you to make changes, rebase, or squash your commits.</li></ol><p>Before doing any of the following, make sure you are on the correct branch:</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git checkout fix-1234</div></pre></td></tr></table></figure><h3 id="updatingthecommitmessage">Updating the Commit Message<a href="#updatingthecommitmessage" class="headerlink" title="Updating the Commit Message"></a></h3><p>If your commit message is in the incorrect format, you’ll be asked to update it. You can do so via:</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git commit --amend</div></pre></td></tr></table></figure><p>This will open up your editor so you can make changes. After that, you’ll need to do a forced push to fork:</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git push -f origin fix-1234</div></pre></td></tr></table></figure><h3 id="updatingthecode">Updating the Code<a href="#updatingthecode" class="headerlink" title="Updating the Code"></a></h3><p>If we ask you to make code changes, there’s no need to close the pull request and create a new one. Make your changes, and when you’re ready, add your changes into the branch.</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git add -A</div><div class="line">git commit --amend</div></pre></td></tr></table></figure><p>Then, do a forced push to your fork (this will also update the content of your pull request).</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git push -f origin fix-1234</div></pre></td></tr></table></figure><h3 id="rebasing">Rebasing<a href="#rebasing" class="headerlink" title="Rebasing"></a></h3><p>If your code is out-of-date, we might ask you to rebase. That means we want you to apply your changes on top of the latest upstream code. Make sure you have set up a <a href="../../development-environment/">development environment</a>, and then you can rebase using these commands:</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git fetch upstream</div><div class="line">git rebase upstream/master</div></pre></td></tr></table></figure><p>You might find that there are merge conflicts when you attempt to rebase. Please <a href="https://help.github.com/articles/resolving-merge-conflicts-after-a-git-rebase/" target="_blank" rel="noopener noreferrer external">resolve the conflicts</a> and then do a forced push to your branch:</p><figure class="highlight bash"><table><tr><td class="code"><pre><div class="line">git push -f origin fix-1234</div></pre></td></tr></table></figure></div><div class="module module--secondary table-of-contents treeview" role="navigation"><ul role="tree" aria-labelledby="page-heading" tabindex="0"><li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class="toc-section-title"><span class="text">connectors</span> <span class="icon"></span></div><ul role="group"><li role="treeitem"><div class="toc-subsection-title"><a class="text" href="/docs/contributor-guide/connectors/" tabindex="-1">How to develop a connector</a></div></li><li role="treeitem"><div class="toc-subsection-title"><a class="text" href="/docs/contributor-guide/connectors/events/" tabindex="-1">Events</a></div></li></ul></li><li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="true"><div class="toc-section-title--active"><span class="text">contributing</span> <span class="icon"></span></div><ul role="group"><li role="treeitem" aria-selected="true"><div class="toc-subsection-title--active" aria-current="location"><a class="text" href="/docs/contributor-guide/contributing/pull-requests/">Pull Requests</a></div></li></ul></li><li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class="toc-section-title"><span class="text">formatters</span> <span class="icon"></span></div><ul role="group"><li role="treeitem"><div class="toc-subsection-title"><a class="text" href="/docs/contributor-guide/formatters/" tabindex="-1">How to develop a formatter</a></div></li></ul></li><li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class="toc-section-title"><span class="text">rules</span> <span class="icon"></span></div><ul role="group"><li role="treeitem"><div class="toc-subsection-title"><a class="text" href="/docs/contributor-guide/rules/" tabindex="-1">How to develop a rule</a></div></li></ul></li></ul></div></div></div></article></main><footer class="footer footer--home"><div class="footer-nav container"><div class="footer-nav__item"><p class="category"><a href="/scanner/">Scanner</a></p><ul></ul></div><div class="footer-nav__item"><p class="category"><a href="/docs/">Documentation</a></p><ul><li><a href="/docs/contributor-guide/">Contributor Guide</a></li><li><a href="/docs/user-guide/rules/">Rules</a></li><li><a href="/docs/user-guide/">User Guide</a></li></ul></div><div class="footer-nav__item"><p class="category"><a href="/about/">About</a></p><ul><li><a href="/about/faq/">FAQ</a></li><li><a href="/about/changelog/">Changelog</a></li><li><a href="/about/governance/">Governance</a></li><li><a href="/about/contributors/">Contributors</a></li><li><a href="https://js.foundation/community/code-of-conduct">Code of Conduct</a></li></ul></div><ul class="footer-nav__item social-list"><li class="github-icon"><a href="https://github.com/sonarwhal" aria-label="Follow Sonar on GitHub"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path class="github-icon-svg" d="M12.5.4C5.7.4.2 5.9.2 12.7c0 5.4 3.5 10 8.4 11.7.6.1.8-.3.8-.6v-2.1C6 22.4 5.3 20 5.3 20c-.6-1.4-1.4-1.8-1.4-1.8-1.1-.7.1-.7.1-.7 1.2.1 1.9 1.3 1.9 1.3 1.1 1.9 2.9 1.3 3.6 1 .1-.8.4-1.3.8-1.6-2.7-.3-5.6-1.4-5.6-6.1 0-1.3.5-2.4 1.3-3.3-.2-.4-.6-1.6 0-3.3 0 0 1-.3 3.4 1.3 1-.3 2-.4 3.1-.4 1 0 2.1.1 3.1.4C17.9 5.2 19 5.5 19 5.5c.7 1.7.2 2.9.1 3.3.8.9 1.3 2 1.3 3.3 0 4.7-2.9 5.8-5.6 6.1.4.4.8 1.1.8 2.3v3.4c0 .3.2.7.8.6 4.9-1.6 8.4-6.2 8.4-11.7C24.8 5.9 19.3.4 12.5.4"/></svg></a></li><li class="twitter-icon"><a href="https://twitter.com/narwhalnellie" aria-label="Follow Sonar on Twitter"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 24"><path class="twitter-icon-svg" d="M25 4.4c-.9.4-1.9.7-2.9.8 1-.6 1.8-1.6 2.2-2.8-1 .6-2.1 1-3.2 1.2-.9-1-2.2-1.6-3.7-1.6-2.8 0-5 2.3-5 5 0 .4 0 .8.1 1.2C8.3 8 4.6 6 2.1 2.9c-.4.8-.7 1.6-.7 2.6 0 1.8.9 3.3 2.2 4.2-.8-.1-1.5-.3-2.2-.7v.1c0 2.4 1.7 4.5 4.1 5-.4.1-.9.2-1.3.2-.3 0-.6 0-.9-.1.6 2 2.5 3.5 4.7 3.5-1.9 1.3-4 2.1-6.4 2.1-.4 0-.8 0-1.2-.1C2.6 21.2 5.3 22 8.1 22c9.3 0 14.4-7.7 14.4-14.4v-.7c1-.6 1.8-1.5 2.5-2.5"/></svg></a></li></ul></div></footer><script async src="/components/treeview/treeview.js"></script><script async src="/js/nav.js"></script><script async src="/core/scripts/form-validation.js"></script><script async src="/components/accordion/accordion.js"></script><script src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script><script>!function(){var e,o=docsearch({apiKey:"2ee58f908e6d720c4f72a9645ce0e857",indexName:"sonarwhal",inputSelector:"#search-input",appId:"0R8E5SPAFP",debug:!1,handleSelected:function(o,t,n){window.innerWidth<e?t.target.closest("form").submit():window.location.href=n.url}}),t=document.querySelector(".algolia-autocomplete .ds-dropdown-menu");e=parseInt(window.getComputedStyle(t).minWidth),o.autocomplete.on("autocomplete:opened",function(){document.body.clientWidth<e&&o.autocomplete.autocomplete.close()})}()</script><script>!function(e,t,a,c,n){e.GoogleAnalyticsObject=a,e[a]||(e[a]=function(){(e[a].q=e[a].q||[]).push(arguments)}),e[a].l=+new Date,c=t.createElement("script"),n=t.scripts[0],c.src="https://www.google-analytics.com/analytics.js",n.parentNode.insertBefore(c,n)}(this,document,"ga"),ga("create","UA-101540923-1"),ga("send","pageview")</script></body></html>